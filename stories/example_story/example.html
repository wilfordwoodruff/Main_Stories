<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Example QMD File</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="example_files/libs/clipboard/clipboard.min.js"></script>
<script src="example_files/libs/quarto-html/quarto.js"></script>
<script src="example_files/libs/quarto-html/popper.min.js"></script>
<script src="example_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="example_files/libs/quarto-html/anchor.min.js"></script>
<link href="example_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="example_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="example_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="example_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="example_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Example QMD File</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This documentation provides a step-by-step guide on how to use a Quarto Markdown (QMD) file to wrangle data using a Python script. QMD allows you to seamlessly integrate code, visualizations, and explanatory text in a single document.</p>
</section>
<section id="prerequisites" class="level1">
<h1>Prerequisites</h1>
<p>Before getting started, make sure you have the following prerequisites:</p>
<ul>
<li>Python installed on your machine.</li>
<li>An Integrated Development Environment (IDE) of your choice for Python programming.</li>
<li>Basic knowledge of Python programming.</li>
<li>Familiarity with the Quarto Markdown format.</li>
</ul>
</section>
<section id="getting-started" class="level1">
<h1>Getting Started</h1>
<p>To begin, follow these steps:</p>
<ol type="1">
<li>Create a new QMD file with a <code>.qmd</code> extension, such as <code>example.qmd</code>.</li>
<li>Set the necessary metadata and output format in the YAML front matter of your QMD file. For this example, we’ll use HTML output:</li>
</ol>
<!-- ```{python}
```
title: "Example QMD File"
output: html_document
```
``` -->
</section>
<section id="python-code-chunk" class="level1">
<h1>Python Code Chunk</h1>
<p>Now let’s add a Python code chunk to your QMD file that performs data wrangling tasks. Follow these steps:</p>
<ol type="1">
<li>Identify the Python script containing the wrangling functions. For this example, assume the script is named <code>wrangle.py</code>.</li>
<li>Create a new code chunk in your QMD file and specify the language as python.</li>
<li>Within the code chunk, import the necessary functions from the <code>wrangle.py</code> script and perform data wrangling operations:</li>
</ol>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> wrangle_data <span class="im">import</span> read_data_from_url, wrangle_data</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data into a DataFrame</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/wilfordwoodruff/Main-Data/main/data/derived/derived_data.csv"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> read_data_from_url(url)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the wrangle_data function to wrangle the data</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> wrangle_data(df)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform additional data manipulations or analyses as needed</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the resulting DataFrame</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Internal ID Document Type  Parent ID  Order   
2880          3514       Letters      207.0      1  \
3264          3940      Daybooks     1091.0      3   
3265          3941      Daybooks     1091.0      4   
3277          3964      Daybooks     1091.0     27   
5091          7078       Letters      251.0      1   
5647          7665       Letters      581.0      1   
6503          8571       Letters      982.0      2   
13320        15525       Letters     3636.0      1   
19395        22370       Letters     6306.0      1   
20191        23205       Letters     6636.0      1   
20192        23206       Letters     6634.0      1   
20968        24928    Discourses     6408.0      2   
20979        24940       Letters     6928.0      1   
21369        25687       Letters    42599.0      1   

                                             Parent Name   
2880   Letter to Phebe Whittemore Carter Woodruff, 29...  \
3264   Daybook (Appointment Book with 1836 Daybook) [...   
3265   Daybook (Appointment Book with 1836 Daybook) [...   
3277   Daybook (Appointment Book with 1836 Daybook) [...   
5091   Letter from Orson Hyde, 29 December 1860 [LE-2...   
5647   Letter to Jesse C. Little, 27 March 1846 [LE-1...   
6503   Letter to John Milton Bernhisel, 30 May 1856 [...   
13320  Letter to Susanna Mehitable Sangiovanni, 22 Ap...   
19395  Letter to Thomas Leiper Kane, 8 March 1859 [LE...   
20191  Letter to Eunice Hart Woodruff Webster, 19 Dec...   
20192  Letter to Aphek Woodruff and Azubah Hart Woodr...   
20968                       Discourse 1877-01-01 [D-622]   
20979  Letter to Thomas Leiper Kane, 8 March 1859 [LE...   
21369  Letter to Susa Young Gates, 2 May 1898 [LE-39506]   

                                       UUID   
2880   4133962f-26d0-4f3c-8497-b31c0c1e5ea9  \
3264   4ac4a0c4-f408-400e-b3cb-40e87d5b3af4   
3265   94e0a8a1-dbae-442c-a3ac-a05edf5ad10f   
3277   ccb14110-dbdb-41d6-a584-7351ca6e4cbf   
5091   55236ddb-4e82-4dcf-bfd7-cfaad01a8ce2   
5647   f0fd1334-e9f9-4338-a5fc-58e46ea8c1a9   
6503   9d96fccd-1a21-4e5d-a861-15fab091c2a9   
13320  28cef6a4-b743-4aec-a6d5-14d8ff9c58ff   
19395  23650b7e-efd9-480e-9b5e-411ae514326f   
20191  ca743057-04bd-40eb-b790-942ba22beba7   
20192  724e9988-a66b-4eba-9f1f-d438587513c0   
20968  2ad2504c-b979-487b-8601-79f03737949b   
20979  3d0e97ac-9135-42eb-9356-cd96d46c11f1   
21369  bebcee4c-6b35-47db-a0aa-7808eb208c2e   

                                                    Name   
2880                              Letter-1840-01-29-D-p1  \
3264                                                   3   
3265                                                   4   
3277                                                  27   
5091                              Letter-1860-12-29-D-p1   
5647                                           page_0001   
6503                                           page_0001   
13320            MS_2986_item_1-Correspondence_1854-1868   
19395                                          page_0001   
20191              MS_9622_b0001_f0003_item_13-1837-1842   
20192               MS_9622_b0001_f0003_item_5-1837-1842   
20968                                          page_0001   
20979  CR_100_38_b0001_f0001_item_1-Wilford_Woodruff_...   
21369                                          page_0001   

                                             Website URL   
2880   https://wilfordwoodruffpapers.org/documents/e2...  \
3264   https://wilfordwoodruffpapers.org/documents/3c...   
3265   https://wilfordwoodruffpapers.org/documents/3c...   
3277   https://wilfordwoodruffpapers.org/documents/3c...   
5091   https://wilfordwoodruffpapers.org/documents/4e...   
5647   https://wilfordwoodruffpapers.org/documents/b7...   
6503   https://wilfordwoodruffpapers.org/documents/98...   
13320  https://wilfordwoodruffpapers.org/documents/e9...   
19395  https://wilfordwoodruffpapers.org/documents/c6...   
20191  https://wilfordwoodruffpapers.org/documents/f0...   
20192  https://wilfordwoodruffpapers.org/documents/c7...   
20968  https://wilfordwoodruffpapers.org/documents/b8...   
20979  https://wilfordwoodruffpapers.org/documents/45...   
21369  https://wilfordwoodruffpapers.org/documents/6a...   

                                      Short URL   
2880   https://wilfordwoodruffpapers.org/p/zpMr  \
3264   https://wilfordwoodruffpapers.org/p/763B   
3265   https://wilfordwoodruffpapers.org/p/8q2r   
3277   https://wilfordwoodruffpapers.org/p/JZZy   
5091   https://wilfordwoodruffpapers.org/p/1rl0   
5647   https://wilfordwoodruffpapers.org/p/KZWY   
6503   https://wilfordwoodruffpapers.org/p/Qnm9   
13320  https://wilfordwoodruffpapers.org/p/OZlN   
19395  https://wilfordwoodruffpapers.org/p/P5Vl   
20191  https://wilfordwoodruffpapers.org/p/nNnl   
20192  https://wilfordwoodruffpapers.org/p/o6pK   
20968  https://wilfordwoodruffpapers.org/p/RwpV   
20979  https://wilfordwoodruffpapers.org/p/7OEQ   
21369  https://wilfordwoodruffpapers.org/p/0EXG   

                                               Image URL   
2880   https://wilford-woodruff-papers.nyc3.digitaloc...  \
3264   https://wilford-woodruff-papers.nyc3.digitaloc...   
3265   https://wilford-woodruff-papers.nyc3.digitaloc...   
3277   https://wilford-woodruff-papers.nyc3.digitaloc...   
5091   https://wilford-woodruff-papers.nyc3.digitaloc...   
5647   https://wilford-woodruff-papers.nyc3.digitaloc...   
6503   https://wilford-woodruff-papers.nyc3.digitaloc...   
13320  https://wilford-woodruff-papers.nyc3.digitaloc...   
19395  https://wilford-woodruff-papers.nyc3.digitaloc...   
20191  https://wilford-woodruff-papers.nyc3.digitaloc...   
20192  https://wilford-woodruff-papers.nyc3.digitaloc...   
20968  https://wilford-woodruff-papers.nyc3.digitaloc...   
20979  https://wilford-woodruff-papers.nyc3.digitaloc...   
21369  https://wilford-woodruff-papers.nyc3.digitaloc...   

                                     Original Transcript   
2880   &lt;p&gt;&lt;date when='1840-01-29'&gt;Jan&lt;sup rend='sup'&gt;...  \
3264   &lt;p&gt;&lt;p&gt;&lt;strong&gt;&lt;date when='1836-01-01'&gt;January ...   
3265   &lt;p&gt;&lt;p&gt;&lt;strong&gt;&lt;date when='1836-01-24'&gt;January ...   
3277   &lt;p&gt;[upside-down text]&lt;br/&gt;\n&lt;p&gt;4 subscribers f...   
5091   &lt;p&gt;[sideways text] [[Orson Hyde|Orson Hyde]] &lt;...   
5647   &lt;p&gt;[[Ireta Anderson|Ireta Anderson]]&lt;br/&gt;\n[[M...   
6503   &lt;p&gt;[[Historian&amp;apos;s Office, Great Salt Lake ...   
13320  &lt;p&gt;36 Chapel Street [[Liverpool, Lancashire, E...   
19395  &lt;p&gt;[[Great Salt Lake City, Great Salt Lake Cou...   
20191  &lt;p&gt;[[Rochester, Sangamon County, Illinois|Roch...   
20192  &lt;p&gt;North Lat. 44, Long 69, 10. [[North Fox Isl...   
20968  &lt;p&gt;TEMPLE MANIFESTATIONS.&lt;/p&gt;\n\n&lt;p&gt;[[St. Geor...   
20979  &lt;p&gt;[[Great Salt Lake City, Great Salt Lake Cou...   
21369  &lt;p&gt;[[Salt Lake City, Salt Lake County, Utah|Sa...   

                                    Text Only Transcript   
2880   Jan" 29th 1840. At [[Alfred Cordon|Alfred Cord...  \
3264   January 1, 1836 ~ Friday\n\n\n1 Jan 1st 1836 F...   
3265   January 24, 1836 ~ Sunday\n\n\nJan 24 [sideway...   
3277   [upside-down text]\n4 subscribers for M &amp;amp; ...   
5091   [sideways text] [[Orson Hyde|Orson Hyde]] Dec ...   
5647   [[Ireta Anderson|Ireta Anderson]]\n[[Morgan, M...   
6503   [[Historian&amp;apos;s Office, Great Salt Lake Cit...   
13320  36 Chapel Street [[Liverpool, Lancashire, Engl...   
19395  [[Great Salt Lake City, Great Salt Lake County...   
20191  [[Rochester, Sangamon County, Illinois|Rochest...   
20192  North Lat. 44, Long 69, 10. [[North Fox Island...   
20968  TEMPLE MANIFESTATIONS.\n\n[[St. George Temple,...   
20979  [[Great Salt Lake City, Great Salt Lake County...   
21369  [[Salt Lake City, Salt Lake County, Utah|Salt ...   

                                                  People   
2880   Alfred Cordon|Phebe Whittemore Carter Woodruff...  \
3264   George Washington Brandon|John Camp|Joseph Chu...   
3265   David Cranshaw|James Martin|John Freeman|John ...   
3277   Henry Brown|Lilburn Williams Boggs|Warren Farr...   
5091                            Brigham Young|Orson Hyde   
5647   William Ivins Appleby|Jesse Carter Little|Eliz...   
6503                               John Milton Bernhisel   
13320  Heber Chase Kimball|Hyrum Smith|Joseph Smith J...   
19395                                 Thomas Leiper Kane   
20191  Aphek Woodruff, b. 1778|Azubah Hart Woodruff|E...   
20192  Aphek Woodruff, b. 1778|Azubah Hart Woodruff|G...   
20968       Brigham Young|Brigham Young Jr.|Erastus Snow   
20979                                 Thomas Leiper Kane   
21369  Abraham Owen Smoot|Aphek Woodruff, b. 1778|Beu...   

                                                  Places  First Date   
2880   Burslem, Staffordshire, England|England|Irelan...  1840-01-29  \
3264   Kirtland, Geauga County, Ohio|Clarks River, Ca...  1836-01-01   
3265   Kirtland, Geauga County, Ohio|Paris, Henry Cou...  1836-01-24   
3277   Arkansas Territory|Jackson County, Missouri|Ke...  1834-12-31   
5091   Utah|Fillmore, Millard County, Utah Territory|...  1860-12-29   
5647   New York City, New York County, New York|Utah|...  1846-03-27   
6503   Utah|Utah Territory|Washington, D.C., United S...  1856-05-30   
13320  Liverpool, Lancashire, England|London, Middles...  1844-04-22   
19395  Nauvoo, Hancock County, Illinois|Utah|Great Sa...  1859-03-08   
20191  Farmington, Hartford County, Connecticut|Terre...  1838-12-19   
20192  Connecticut|Portland, Cumberland County, Maine...  1837-09-15   
20968  Utah|St. George Temple, St. George, Washington...  1877-01-01   
20979  Nauvoo, Hancock County, Illinois|Utah|Great Sa...  1859-03-08   
21369  Avon, Hartford County, Connecticut|Salt Lake C...  1898-05-02   

                                                   Dates   
2880                                          1840-01-29  \
3264   1836-01-01|1836-01-02|1836-01-03|1836-01-10|18...   
3265   1836-01-24|1836-01-25|1836-01-26|1836-01-27|18...   
3277                    1834-12-31|1835-01-13|1835-06-28   
5091                                          1860-12-29   
5647                                          1846-03-27   
6503                                          1856-05-30   
13320                                         1844-04-22   
19395                                         1859-03-08   
20191                                         1838-12-19   
20192                                         1837-09-15   
20968                                         1877-01-01   
20979                                         1859-03-08   
21369                                         1898-05-02   

                                                  Topics  
2880   God|danger|preach|Methodist|intelligence|Elder...  
3264                                  God|Elder|preached  
3265                           Baptist|preached|children  
3277           Priest|Elder|preach|baptized|petition|mob  
5091                               Utah|love|mind|family  
5647                 Utah|business|desire|respect|Spirit  
6503     God|Utah|books|feelings|hearts|just|mind|worthy  
13320  endowment|God|Kingdom of God|power of God|Elde...  
19395  God|Jesus Christ|Utah|read|worship|feelings|hi...  
20191  sickness|death|doubt|duty|mind|citizens|though...  
20192  Book of Mormon|God|word of God|Priest|Elder|pr...  
20968                             ordinances|temple|Utah  
20979  God|Jesus Christ|Utah|read|worship|feelings|hi...  
21369            ordained|sealed|Patriarch|spotted fever  </code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Make sure to replace the URL “https://raw.githubusercontent.com/wilfordwoodruff/Main-Data/main/data/derived/derived_data.csv” with the appropriate URL pointing to your data source.</li>
</ol>
</section>
<section id="running-the-code" class="level1">
<h1>Running the Code</h1>
<p>To run the Python code within your QMD file and observe the data wrangling results, follow these steps:</p>
<ol type="1">
<li>Open your preferred IDE for Python programming.</li>
<li>Create a new Python file (if necessary) and implement the wrangle_data and related functions within the wrangle.py script.</li>
<li>Switch back to your QMD file (example.qmd) in your chosen IDE.</li>
</ol>
<p>Next, we’ll run the Python code:</p>
<ol type="1">
<li>Save all changes to your wrangle.py and example.qmd files.</li>
<li>Run the Python code by executing the QMD file using your IDE’s respective method. Refer to the documentation or guidelines of your IDE for specific instructions on running Quarto Markdown files.</li>
</ol>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Congratulations! You have successfully created a QMD file that utilizes a Python script to wrangle data.</p>
<p>This example showcases the capabilities of QMD files by incorporating a Python code chunk. The code imports the <code>wrangle_data</code> function from the <code>wrangle.py</code> script, loads data into a DataFrame, performs wrangling operations using the function, and prints the resulting DataFrame.</p>
<p>Note that the <code>wrangle.py</code> script and <code>derived_data.csv</code> file are assumed to be in the same directory as the <code>.qmd</code> file. Adjust the import statement and file path if they are in a different directory.</p>
<p>By using your preferred IDE, you can execute the Python code within the QMD file and observe the data wrangling results in the desired environment.</p>
<p>Feel free to explore and expand upon this example to incorporate more complex code and analysis into your QMD files.</p>
</section>
<section id="further-resources" class="level1">
<h1>Further Resources</h1>
<p>For more information on Quarto Markdown and its capabilities, refer to the <a href="https://quarto.org/docs/guide/">official Quarto documentation and guides</a>.</p>
<p>This documentation provides a high-level overview of how to use a Quarto Markdown (QMD) file to wrangle data using a Python script. The code chunk provided demonstrates the steps involved in importing functions from a separate script, loading data from the specified URL into a DataFrame, applying wrangling operations, and printing the resulting DataFrame.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>